<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.33" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://github.com/zha0cai/websec/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/nodejs%20%E4%B8%8E%20nvm%E3%80%81npm%E3%80%81pnmp%E3%80%81yarn%E3%80%81corepack%20%E7%9A%84%E5%85%B3%E7%B3%BB.html"><meta property="og:site_name" content="One-Piece"><meta property="og:title" content="nodejs 与 nvm、npm、pnmp、yarn、corepack 的关系"><meta property="og:description" content="Nodejs Run JavaScript Everywhere Node.js® is a free, open-source, cross-platform JavaScript runtime environment that lets developers create servers, web apps, command line tools..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Mr.zha0cai"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"nodejs 与 nvm、npm、pnmp、yarn、corepack 的关系","image":[""],"dateModified":null,"author":[{"@type":"Person","name":"Mr.zha0cai","url":"https://github.com/zha0cai"}]}</script><title>nodejs 与 nvm、npm、pnmp、yarn、corepack 的关系 | One-Piece</title><meta name="description" content="Nodejs Run JavaScript Everywhere Node.js® is a free, open-source, cross-platform JavaScript runtime environment that lets developers create servers, web apps, command line tools...">
    <link rel="stylesheet" href="/assets/css/styles.01f1239a.css">
    <link rel="preload" href="/assets/js/runtime~app.721b97e6.js" as="script"><link rel="preload" href="/assets/css/styles.01f1239a.css" as="style"><link rel="preload" href="/assets/js/335.b2d95ac1.js" as="script"><link rel="preload" href="/assets/js/app.fac1b775.js" as="script">
    <link rel="prefetch" href="/assets/js/CORS 跨域漏洞.html.778fa815.js" as="script"><link rel="prefetch" href="/assets/js/nodejs 与 nvm、npm、pnmp、yarn、corepack 的关系.html.4dd9a175.js" as="script"><link rel="prefetch" href="/assets/js/photo-swipe.7839c4e7.js" as="script"><link rel="prefetch" href="/assets/js/giscus.f45acf91.js" as="script"><link rel="prefetch" href="/assets/js/CRLF Injection.html.779c2ccf.js" as="script"><link rel="prefetch" href="/assets/js/index.html.d7d35a0d.js" as="script"><link rel="prefetch" href="/assets/js/EXAMPLE_README.html.889355e5.js" as="script"><link rel="prefetch" href="/assets/js/404.html.2d0fd734.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="https://avatars.githubusercontent.com/u/111300972?v=4" alt><!----><span class="vp-site-name hide-in-pad">One-Piece</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label="One-Piece"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>One-Piece<!----></a></div><div class="vp-nav-item hide-in-mobile"><a href="https://theme-hope.vuejs.press/zh/" rel="noopener noreferrer" target="_blank" aria-label="V2 官方文档" class="nav-link"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>V2 官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/zha0cai" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->nodejs 与 nvm、npm、pnmp、yarn、corepack 的关系</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/zha0cai" target="_blank" rel="noopener noreferrer">Mr.zha0cai</a></span><span property="author" content="Mr.zha0cai"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 15 分钟</span><meta property="timeRequired" content="PT15M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#npm">npm</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#概述">概述</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#安装及使用">安装及使用</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#pnpm">pnpm</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#概述-1">概述</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#安装及使用-1">安装及使用</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#yarn">yarn</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#概述-2">概述</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#安装及使用-2">安装及使用</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#package-json-packagelock-json">package.json &amp; packagelock.json</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#package-json">package.json</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#packagelock-json">packagelock.json</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#版本范围符号-​-​-说明">版本范围符号 ^​ ~​ 说明</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#现在-corepack">现在 corepack</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#概述-3">概述</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#安装及使用-3">安装及使用</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#问题-1">问题 1</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="nodejs" tabindex="-1"><a class="header-anchor" href="#nodejs"><span>Nodejs</span></a></h1><p><strong>Run JavaScript Everywhere</strong></p><p><a href="https://nodejs.org/en" target="_blank" rel="noopener noreferrer">Node.js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>® is a free, open-source, cross-platform JavaScript runtime environment that lets developers create servers, web apps, command line tools and scripts.</p><p>Node.js 是由 <a href="https://github.com/ry" target="_blank" rel="noopener noreferrer">Ryan Dahl<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 用 C++ 开发的，Node.js 不是库，是一个运行环境，或者说是一个 JS 语言解释器。</p><p>以前 JS 只能运行在浏览器中，Node.js 出现之后，不管是服务器上，还是我们自己的的笔记本上，只要安装了 Node.js 就可以运行 JS 代码了。</p><p><a href="https://nodejs.org/docs/latest/api/synopsis.html" target="_blank" rel="noopener noreferrer">用法<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：</p><p>​<code>node [options] [V8 options] [script.js | -e &quot;script&quot; | - ] [arguments]</code>​</p><p>常用命令：</p><ul><li>​<code>node &lt;filename&gt;</code>​：运行指定的 JavaScript 文件。</li><li>node：启动 Node.js REPL（交互式解释器）。</li><li>​<code>node --inspect &lt;filename&gt;</code>​：以调试模式运行指定的 JavaScript 文件。</li><li>​<code>node --version</code>​：查看已安装的 Node.js 版本。</li><li>​<code>node --help</code>​：获取 Node.js 命令行帮助信息。</li></ul><h1 id="nvm" tabindex="-1"><a class="header-anchor" href="#nvm"><span>nvm</span></a></h1><p>nvm，全称是 <strong><mark>Node Version Manager</mark></strong>，是用来管理 node.js 的版本的。</p><p>因为 Node.js 在不断的被完善，分版本迭代更新。</p><ul><li>当前版本：<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener noreferrer">Node.js — Download Node.js® (nodejs.org)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>历史版本：<a href="https://nodejs.org/en/about/previous-releases" target="_blank" rel="noopener noreferrer">Node.js — Previous Releases (nodejs.org)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>不同的 node 项目所依赖的 node 版本可能不相同，本机也支持安装多个 node 版本，所以可以通过 nvm 来管理 node 的版本。</p><ul><li><p>Linux：<a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">GitHub - nvm-sh/nvm: Node Version Manager - POSIX-compliant bash script to manage multiple active node.js versions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>Windows：<a href="https://github.com/coreybutler/nvm-windows" target="_blank" rel="noopener noreferrer">GitHub - coreybutler/nvm-windows: A node.js version management utility for Windows. Ironically written in Go.<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://github.com/coreybutler/nvm-windows#:~:text=Upgrading%20nvm%2Dwindows" target="_blank" rel="noopener noreferrer">要升级 nvm-windows<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，请运行新的安装程序。它将安全地覆盖需要更新的文件，而无需接触您的 node.js 安装。请确保使用相同的安装和符号链接文件夹。如果您最初安装到默认位置，则只需单击每个窗口上的“下一步”，直到完成。</p></li></ul><p>常用命令：</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token operator">&gt;</span> nvm <span class="token operator">--</span>help <span class="token comment">// 帮助指令</span>

<span class="token operator">&gt;</span> nvm list <span class="token punctuation">[</span>available<span class="token punctuation">]</span>   <span class="token comment">// List the node.js installations. Type &quot;available&quot; at the end to see what can be installe</span>

<span class="token operator">&gt;</span> nvm install <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span> <span class="token punctuation">[</span>arch<span class="token punctuation">]</span> <span class="token comment">// The version can be a specific version, &quot;latest&quot; for the latest current version, or &quot;lts&quot; for the</span>

<span class="token operator">&gt;</span> nvm current    <span class="token comment">// Display active node.js version.</span>

<span class="token operator">&gt;</span> nvm use <span class="token punctuation">[</span>version<span class="token punctuation">]</span> <span class="token punctuation">[</span>arch<span class="token punctuation">]</span>    <span class="token comment">// Switch to use the specified version. Optionally use &quot;latest&quot;, &quot;lts&quot;, or &quot;newest&quot;.</span>
                              <span class="token comment">// &quot;newest&quot; is the latest installed version. Optionally specify 32/64bit architecture.</span>
                              <span class="token comment">// nvm use &lt;arch&gt; will continue using the selected version, but switch to 32/64 bit mode.</span>

<span class="token operator">&gt;</span> nvm <span class="token punctuation">[</span><span class="token operator">--</span><span class="token punctuation">]</span>version    <span class="token comment">// Displays the current running version of nvm for Windows. Aliased as v.</span>

<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span> e<span class="token punctuation">.</span>g<span class="token punctuation">.</span>
<span class="token operator">&gt;</span> nvm list available

<span class="token operator">|</span>   <span class="token constant">CURRENT</span>    <span class="token operator">|</span>     <span class="token constant">LTS</span>      <span class="token operator">|</span>  <span class="token constant">OLD</span> <span class="token constant">STABLE</span>  <span class="token operator">|</span> <span class="token constant">OLD</span> <span class="token constant">UNSTABLE</span> <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">|</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">21.7</span><span class="token number">.1</span>    <span class="token operator">|</span>   <span class="token number">20.12</span><span class="token number">.0</span>    <span class="token operator">|</span>   <span class="token number">0.12</span><span class="token number">.18</span>    <span class="token operator">|</span>   <span class="token number">0.11</span><span class="token number">.16</span>    <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">21.7</span><span class="token number">.0</span>    <span class="token operator">|</span>   <span class="token number">20.11</span><span class="token number">.1</span>    <span class="token operator">|</span>   <span class="token number">0.12</span><span class="token number">.17</span>    <span class="token operator">|</span>   <span class="token number">0.11</span><span class="token number">.15</span>    <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">21.6</span><span class="token number">.2</span>    <span class="token operator">|</span>   <span class="token number">20.11</span><span class="token number">.0</span>    <span class="token operator">|</span>   <span class="token number">0.12</span><span class="token number">.16</span>    <span class="token operator">|</span>   <span class="token number">0.11</span><span class="token number">.14</span>    <span class="token operator">|</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装的 nodejs 会在你选择的目录下，我安装的如下图。</p><p>​<img src="/assets/img/image-20240402102915-scn3nff.a7613ab8.png" alt="image" loading="lazy">​</p><h1 id="package-manager" tabindex="-1"><a class="header-anchor" href="#package-manager"><span>Package Manager</span></a></h1><h2 id="npm" tabindex="-1"><a class="header-anchor" href="#npm"><span>npm</span></a></h2><h3 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h3><p>在没有 npm 之前，一个前端项目想要使用其他项目的代码，即把别人写的 javascript 代码引入到项目中直接用，避免重复造轮子，提高开发效率，需要跑到其他项目对应的官网上去下载对应的代码放到自己的项目里，导致如果该项目需要依赖其他很多的项目，然后就要访问不同的网址去下载对应的代码</p><ul><li>去 jQuery 官网下载 jQuery</li><li>去 BootStrap 官网下载 BootStrap</li><li>去 Underscore 官网下载 Underscore</li><li>……</li></ul><p>于是由一个拥有三大美德的程序员 <a href="https://github.com/isaacs" target="_blank" rel="noopener noreferrer">Isaac Z. Schlueter<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> （以下简称 Isaaz）给出一个解决方案：用一个工具把这些代码集中到一起来管理吧！那就是 npm，全称是 <mark><strong>Node Package Manager</strong></mark>，是以 JavaScript 编写的软件包管理工具，用来安装 node 项目所需要的一堆依赖包。</p><ul><li>npm 官网地址：<a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npm | Home (npmjs.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>npm 官方文档：<a href="https://docs.npmjs.com/" target="_blank" rel="noopener noreferrer">npm Docs (npmjs.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="安装及使用" tabindex="-1"><a class="header-anchor" href="#安装及使用"><span>安装及使用</span></a></h3><p>Node.js 内置了 npm，直接用就行。</p><p>​<img src="/assets/img/image-20240402103051-i21rkvw.90abb361.png" alt="image" loading="lazy">​</p><p>‍</p><p><strong>常用指令</strong></p><ul><li><p>​<code>npm init -y</code>​​：初始化一个新的 Node.js 项目，根据 guide 生成一个 packagejson 的文件，项目的配置信息。（<code>-y</code>​​ 或者 <code>--yes</code>​​: 这个选项表示在初始化项目时，自动使用默认选项，而不需要用户交互确认。）</p></li><li><p>查看当前 npm 版本： <code>npm -v</code>​​​</p></li><li><p>安装需要的包</p><p>​<code>npm install 包名 --save</code>​​</p><p>​<code>npm install 包名 -g</code>​​​​ : 全局安装，安装后在命令行任意目录下可直接使用包命令</p><p>​<code>--save</code>​ 会在 <code>package.json</code>​ 中保存到 <code>dependencies</code>​ 这个依赖项中，在 npm 5 以后的版本不用加上这个参数也会自动加入到 <code>dependencies</code>​ 这个依赖项中。</p></li><li><p>更新包： <code>npm install 包名 @latest</code>​​​</p></li><li><p>卸载包： <code>npm uninstall 包名</code>​​​</p></li><li><p>换源：<code>npm --registry 源地址</code>​​​</p></li></ul><h2 id="pnpm" tabindex="-1"><a class="header-anchor" href="#pnpm"><span>pnpm</span></a></h2><h3 id="概述-1" tabindex="-1"><a class="header-anchor" href="#概述-1"><span>概述</span></a></h3><p>快速的，<a href="https://pnpm.io/zh/motivation" target="_blank" rel="noopener noreferrer">节省磁盘空间<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的包管理工具。</p><ul><li>快速：pnpm is up to 2x faster than npm</li><li>高效：node_modules 中的文件为复制或链接自特定的内容寻址存储库</li><li>支持：monorepos：pnpm 内置支持单仓多包</li><li>严格：pnpm 默认创建了一个非平铺的 node_modules，因此代码无法访问任意包</li></ul><h3 id="安装及使用-1" tabindex="-1"><a class="header-anchor" href="#安装及使用-1"><span>安装及使用</span></a></h3><p><strong>官方地址</strong></p><ul><li><a href="https://pnpm.io/" target="_blank" rel="noopener noreferrer">Fast, disk space efficient package manager | pnpm<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/pnpm/pnpm" target="_blank" rel="noopener noreferrer">GitHub - pnpm/pnpm: Fast, disk space efficient package manager<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token number">1.</span> pnpm 是 pnpm 的普通版本，需要 Node<span class="token punctuation">.</span>js 来运行。
npm install <span class="token operator">-</span>g pnpm

<span class="token number">2.</span> @pnpm<span class="token operator">/</span>exe 与 Node<span class="token punctuation">.</span>js 一起打包成可执行文件，因此可以在未安装 Node<span class="token punctuation">.</span>js 的系统上使用。
npm install <span class="token operator">-</span>g @pnpm<span class="token operator">/</span>exe

<span class="token number">3.</span> 升级版本
pnpm add <span class="token operator">-</span>g pnpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>​​</p><p><strong>常用命令</strong></p><p><a href="https://pnpm.io/zh/cli/add" target="_blank" rel="noopener noreferrer">pnpm add &lt;pkg&gt; | pnpm<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token number">1.</span> 与 npm 不同，pnpm 验证所有选项。例如， pnpm install <span class="token operator">--</span>target_arch x64 将失败，因为 <span class="token operator">--</span>target_arch 不是 pnpm install 的有效选项。

npm install      <span class="token operator">==</span> pnpm install
npm i <span class="token operator">&lt;</span>pkg<span class="token operator">&gt;</span>      <span class="token operator">==</span> pnpm add <span class="token operator">&lt;</span>pkg<span class="token operator">&gt;</span>
npm run <span class="token operator">&lt;</span>cmd<span class="token operator">&gt;</span> <span class="token operator">==</span> pnpm <span class="token operator">&lt;</span>cmd<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到只下载了一次，但是项目上确实也存在 <code>node_modules\gitbook-plugin-search-pro</code>​</p><p>​<img src="/assets/img/image-20240402155801-ufj5dng.ba6d1340.png" alt="image" loading="lazy">​</p><p>可能就是因为这个目录链接起来的，具体看官网介绍：</p><blockquote><p>使用 npm 时，依赖每次被不同的项目使用，都会重复安装一次。 而在使用 pnpm 时，依赖会被存储在内容可寻址的存储中，所以：</p><ol><li>如果你用到了某依赖项的不同版本，只会将不同版本间有差异的文件添加到仓库。 例如，如果某个包有 100 个文件，而它的新版本只改变了其中 1 个文件。那么 <code>pnpm update</code>​ 时只会向存储中心额外添加 1 个新文件，而不会因为仅仅一个文件的改变复制整新版本包的内容。</li><li>所有文件都会存储在硬盘上的某一位置。 当软件包被被安装时，包里的文件会硬链接到这一位置，而不会占用额外的磁盘空间。 这允许你跨项目地共享同一版本的依赖。</li></ol><p>因此，您在磁盘上节省了大量空间，这与项目和依赖项的数量成正比，并且安装速度要快得多！</p></blockquote><p>​<img src="/assets/img/image-20240402160410-mrzzidq.ae49d129.png" alt="image" loading="lazy">​</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token constant">PS</span> <span class="token constant">D</span><span class="token operator">:</span>\<span class="token punctuation">.</span>pnpm<span class="token operator">-</span>store<span class="token operator">&gt;</span> tree <span class="token operator">/</span>f
卷 新加卷 的文件夹 <span class="token constant">PATH</span> 列表
卷序列号为 5CC2<span class="token operator">-</span>54DE
<span class="token constant">D</span><span class="token operator">:</span><span class="token punctuation">.</span>
└─v3
    └─files
        ├─<span class="token number">04</span>
        │      3e4a27e1d3903298fc32769e0f28b7283ce02a68afb89f9663e7e0625ad3c3c3b613e18eb256b1fdd078a345325f287ecbf0f5d1f979661984d2ae0ac5652b<span class="token operator">-</span>exec
        │      5b086f61936e1bf0d918b81d321c1b2399f46d9bf3b50fef077214194f5de39b0dd188059b3ce45908febf9f068459626be2fd29ce55c83278e224b8af897d
        │
        ├─<span class="token number">05</span>
        │      97a1fc9027497bec956281428ee644ea9a1e0b6b851ed7a276dc1daa685a1cd35661e64e820049a25308c5adaf2c66474151f891b5b6caf27dd8636781750c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="yarn" tabindex="-1"><a class="header-anchor" href="#yarn"><span>yarn</span></a></h2><h3 id="概述-2" tabindex="-1"><a class="header-anchor" href="#概述-2"><span>概述</span></a></h3><p>“Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 JS 包管理工具 ，正如<a href="https://engineering.fb.com/2016/10/11/web/yarn-a-new-package-manager-for-javascript/" target="_blank" rel="noopener noreferrer">早期官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>中写的，Yarn 是为了弥补 npm 的一些缺陷而出现的。”这句话让我想起了使用 npm 时的坑了：</p><ul><li>​<code>npm install</code>​ ​的时候<strong>巨慢</strong>。特别是新的项目拉下来要等半天，删除 node_modules，重新 install 的时候依旧如此。</li><li>同一个项目，安装的时候<strong>无法保持一致性</strong>。由于 package.json 文件中版本号的特点，下面三个版本号在安装的时候代表不同的含义。</li></ul><p>Yarn 是一个成熟的开源包管理器，用于管理 JavaScript 项目中的依赖项。它有助于安装、更新、配置和删除软件包依赖项的过程，最终帮助您更快地实现目标，同时减少干扰。</p><p>Migrating from 1.x / npm 有什么<a href="https://yarnpkg.com/migration/overview#:~:text=Benefits-,Benefits,-%E5%A5%BD%E5%A4%84" target="_blank" rel="noopener noreferrer">好处<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>？Yarn Modern 有以下优点</p><ul><li>Stability</li><li>New features</li><li>Flexibility</li><li>Extensibility</li><li>Future proof</li></ul><p>您可能听说过 Yarn Plug&#39;n&#39;Play，并担心您的项目尚不兼容。不用担心！ 此迁移将允许您保留 <code>node_modules</code>​ 文件夹。只有当我们完成后，您才需要决定是否要花时间迁移到 Yarn PnP。无论您是这样做还是留在 <code>node_modules</code>​ 上，迁移到 Yarn Modern 都会有很多好处。</p><h3 id="安装及使用-2" tabindex="-1"><a class="header-anchor" href="#安装及使用-2"><span>安装及使用</span></a></h3><p><strong>就我个人而言，需求不是很大，用 yarn 应该就足够了。</strong></p><p>官方文档：</p><ul><li><a href="https://yarnpkg.com/getting-started" target="_blank" rel="noopener noreferrer">Introduction | Yarn (yarnpkg.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://www.yarnpkg.cn/getting-started/install" target="_blank" rel="noopener noreferrer">安装 | Yarn - JavaScript 软件包管理器 | Yarn 中文文档 - Yarn 中文网 (yarnpkg.cn)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token number">1.</span> 首先启用 Corepack（如果尚未启用）；这会将 yarn 二进制文件添加到您的 <span class="token constant">PATH</span> 中：
corepack enable

<span class="token number">2.</span> 然后初始化一个新项目：
yarn init <span class="token operator">-</span><span class="token number">2</span>

<span class="token number">3.</span> 任何时候你想将 Yarn 更新到最新版本，只需运行：
yarn <span class="token keyword">set</span> version stable
yarn install

<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>
<span class="token number">4.</span> 您可能想要测试 Yarn 的最新版本，该版本尚未在候选版本中发布，甚至尚未合并。以下命令将直接从我们的存储库克隆、构建并在您的项目中安装 Yarn：
yarn <span class="token keyword">set</span> version from sources

<span class="token number">5.</span> 它接受一个 <span class="token operator">--</span>branch 标志，您可以使用它来测试特定的 <span class="token constant">PR</span>：
yarn <span class="token keyword">set</span> version from sources <span class="token operator">--</span>branch <span class="token number">1211</span>

<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span> 使用 npm 安装
# 全局安装
npm install <span class="token operator">-</span>g  yarn

# 全局安装目录
yarn config <span class="token keyword">set</span> global<span class="token operator">-</span>folder <span class="token constant">D</span><span class="token operator">:</span>\Yarn\yarn_global

# 缓存目录
yarn config <span class="token keyword">set</span> cache<span class="token operator">-</span>folder <span class="token constant">D</span><span class="token operator">:</span>\Yarn\yarn_cache

# 查看当前源
yarn config <span class="token keyword">get</span> registry

# 修改为淘宝镜像源
yarn config <span class="token keyword">set</span> registry https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org

<span class="token comment">// 初始化一个项目</span>
yarn init

<span class="token comment">// 添加依赖包</span>
yarn add <span class="token punctuation">[</span><span class="token keyword">package</span><span class="token punctuation">]</span>

<span class="token comment">// 升级依赖包</span>
yarn upgrade <span class="token punctuation">[</span><span class="token keyword">package</span><span class="token punctuation">]</span>

<span class="token comment">// 移除依赖包</span>
yarn remove <span class="token punctuation">[</span><span class="token keyword">package</span><span class="token punctuation">]</span>

<span class="token comment">// 安装全部依赖</span>
yarn install （或者 yarn）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常用指令</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>如果您来自 npm，主要变化是：
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1.</span> 运行 yarn 足以运行安装！它是 yarn install 的别名。
<span class="token number">2.</span> 添加或更新对单个包的依赖项是通过 yarn add 完成的。
<span class="token number">3.</span> 升级整个项目的依赖项是通过 yarn up 完成的。
<span class="token number">4.</span> 您的脚本有别名。调用 yarn build 与 yarn run build 相同！
<span class="token number">5.</span> 大多数与注册表相关的命令都移到 yarn npm 后面（例如： yarn npm audit 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所有指令请参考官网：<a href="https://yarnpkg.com/cli" target="_blank" rel="noopener noreferrer">CLI Reference | Yarn (yarnpkg.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token operator">&gt;</span> corepack enable
<span class="token operator">&gt;</span> yarn init <span class="token operator">-</span><span class="token number">2</span>
Corepack is about to download https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>yarnpkg<span class="token punctuation">.</span>com<span class="token operator">/</span>yarn<span class="token operator">/</span><span class="token operator">-</span><span class="token operator">/</span>yarn<span class="token operator">-</span><span class="token number">1.22</span><span class="token number">.22</span><span class="token punctuation">.</span>tgz<span class="token punctuation">.</span>

Do you want to <span class="token keyword">continue</span><span class="token operator">?</span> <span class="token punctuation">[</span><span class="token constant">Y</span><span class="token operator">/</span>n<span class="token punctuation">]</span> y
Corepack is about to download https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>repo<span class="token punctuation">.</span>yarnpkg<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token number">4.1</span><span class="token number">.1</span><span class="token operator">/</span>packages<span class="token operator">/</span>yarnpkg<span class="token operator">-</span>cli<span class="token operator">/</span>bin<span class="token operator">/</span>yarn<span class="token punctuation">.</span>js<span class="token punctuation">.</span>

Do you want to <span class="token keyword">continue</span><span class="token operator">?</span> <span class="token punctuation">[</span><span class="token constant">Y</span><span class="token operator">/</span>n<span class="token punctuation">]</span> y
➤ <span class="token constant">YN0000</span><span class="token operator">:</span> · Yarn <span class="token number">4.1</span><span class="token number">.1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="package-json-packagelock-json" tabindex="-1"><a class="header-anchor" href="#package-json-packagelock-json"><span>package.json &amp; packagelock.json</span></a></h2><h3 id="package-json" tabindex="-1"><a class="header-anchor" href="#package-json"><span>package.json</span></a></h3><p>顾名思义 package.json 文件是包的描述文件，每个项目的根目录下面，一般都有一个 <code>package.json</code>​ 文件，定义了这个项目所需要的各种模块，以及项目的配置信息（比如名称、版本、许可证等元数据），以便发布到 npm registry。</p><p>​<code>npm install</code>​ 命令根据这个配置文件，自动下载所需的模块，也就是配置项目所需的运行和开发环境。</p><p>详情介绍参考：</p><ul><li><a href="https://docs.npmjs.com/cli/v10/configuring-npm/package-json" target="_blank" rel="noopener noreferrer">package.json | npm Docs (npmjs.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://javascript.ruanyifeng.com/nodejs/packagejson.html" title="https://javascript.ruanyifeng.com/nodejs/packagejson.html" target="_blank" rel="noopener noreferrer">https://javascript.ruanyifeng.com/nodejs/packagejson.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>​<img src="/assets/img/image-20240402104232-8knd7k7.9717b234.png" alt="image" loading="lazy">​</p><ul><li>有一个统一的 package 代码仓库 (npm 官网)</li><li>编写自己的 package 和 package.json 文件(参考 npm 官方文档介绍)</li><li>通过 npm publish 把 package 放到这个仓库里</li><li>其他人的项目里想要使用某些 package 就写到 package.json 文件中，然后运行 npm install，就会自动将这些代码下载下来，统一放到 node_modules 目录中。</li></ul><h3 id="packagelock-json" tabindex="-1"><a class="header-anchor" href="#packagelock-json"><span>packagelock.json</span></a></h3><p>对于 npm 修改 <code>node_modules</code>​ 树或 <code>package.json</code>​ 的任何操作，都会自动生成 <code>package-lock.json</code>​ 。它描述了生成的确切树，以便后续安装能够生成相同的树，而不管中间依赖项更新如何。</p><ul><li><a href="https://docs.npmjs.com/cli/v10/configuring-npm/package-lock-json" target="_blank" rel="noopener noreferrer">package-lock.json | npm Docs (npmjs.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><ol><li>npm 安装，没有 package-lock.json 文件，如果 npm 版本是 5+，会自动生成 package-lock.json。有**<mark>的话会默认依据该文件进行安装而不是 package.json。</mark>** cnpm 不支持（忽略）依据 package-lock.json 文件安装模块，默认依赖 package.json 进行安装。</li><li><strong><mark>需要更新版本，得去更新 package.json 里的模块版本，然后 npm install，才能同步更新到 package-lock.json</mark></strong></li><li>该功能基于 npm5+</li></ol><h3 id="版本范围符号-​-​-说明" tabindex="-1"><a class="header-anchor" href="#版本范围符号-​-​-说明"><span>版本范围符号 <code>^</code>​ <code>~</code>​ 说明</span></a></h3><p>​<code>^</code>​ 表示：允许进行不修改 <code>[major, minor, patch]</code>​ 元组中**<mark>最左边的非零元素</mark>**的更改。换句话说，这允许版本 <code>1.0.0</code>​ 及以上版本的补丁和次要更新，版本 <code>0.X &gt;=0.1.0</code>​ 的补丁更新，以及版本 <code>0.0.X</code>​ 的无更新。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token operator">^</span><span class="token number">1.2</span><span class="token number">.3</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.2</span><span class="token number">.3</span> <span class="token operator">&lt;</span><span class="token number">2.0</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>
<span class="token operator">^</span><span class="token number">0.2</span><span class="token number">.3</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.2</span><span class="token number">.3</span> <span class="token operator">&lt;</span><span class="token number">0.3</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>
<span class="token operator">^</span><span class="token number">0.0</span><span class="token number">.3</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.0</span><span class="token number">.3</span> <span class="token operator">&lt;</span><span class="token number">0.0</span><span class="token number">.4</span><span class="token operator">-</span><span class="token number">0</span>

<span class="token operator">^</span><span class="token number">1.2</span><span class="token number">.3</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">2</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.2</span><span class="token number">.3</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">2</span> <span class="token operator">&lt;</span><span class="token number">2.0</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span> 请注意，如果 <span class="token number">1.2</span><span class="token number">.3</span> 版本大于或等于 beta<span class="token punctuation">.</span><span class="token number">2</span> ，则允许预发布。因此， <span class="token number">1.2</span><span class="token number">.3</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">4</span> 将被允许，但 <span class="token number">1.2</span><span class="token number">.4</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">2</span> 不会，因为它是不同 <span class="token punctuation">[</span>major<span class="token punctuation">,</span> minor<span class="token punctuation">,</span> patch<span class="token punctuation">]</span> 元组的预发布。

<span class="token operator">^</span><span class="token number">0.0</span><span class="token number">.3</span><span class="token operator">-</span>beta <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.0</span><span class="token number">.3</span><span class="token operator">-</span>beta <span class="token operator">&lt;</span><span class="token number">0.0</span><span class="token number">.4</span><span class="token operator">-</span><span class="token number">0</span> 请注意，仅当 <span class="token number">0.0</span><span class="token number">.3</span> 版本大于或等于 beta 时才允许预发布。因此， <span class="token number">0.0</span><span class="token number">.3</span><span class="token operator">-</span>pr<span class="token punctuation">.</span><span class="token number">2</span> 是被允许的。

<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">==</span>
解析插入符范围时，缺少的 patch 值会脱糖为数字 <span class="token number">0</span> ，但将允许该值内的灵活性，即使主要版本和次要版本都是 <span class="token number">0</span> 
<span class="token operator">^</span><span class="token number">1.2</span><span class="token punctuation">.</span>x <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.2</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">2.0</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>
<span class="token operator">^</span><span class="token number">0.0</span><span class="token punctuation">.</span>x <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.0</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">0.1</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>
<span class="token operator">^</span><span class="token number">0.0</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.0</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">0.1</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>

缺少的 minor 和 patch 值将脱糖为零，但也允许这些值的灵活性，即使主要版本为零。
<span class="token operator">^</span><span class="token number">1</span><span class="token punctuation">.</span>x <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.0</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">2.0</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>
<span class="token operator">^</span><span class="token number">0</span><span class="token punctuation">.</span>x <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.0</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">1.0</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>&quot;<code>5.0.3</code>​&quot; 表示安装指定的 5.0.3 版本</li><li>&quot;<code>~5.0.3</code>​&quot; 表示安装 5.0.X 中最新的版本</li><li>&quot;<code>^5.0.3</code>​&quot; 表示安装 5.X.X 中最新的版本。</li></ul><hr><p>​<code>~</code>​ 表示：如果在比较器上指定了次要版本，则允许补丁级别更改。如果不允许，则允许进行较小级别的更改。<strong>就是说以第二位的小版本号为主，没有的话才以第一位的版本号为主。</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token operator">~</span><span class="token number">1.2</span><span class="token number">.3</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.2</span><span class="token number">.3</span> <span class="token operator">&lt;</span><span class="token number">1.</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token number">.0</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.2</span><span class="token number">.3</span> <span class="token operator">&lt;</span><span class="token number">1.3</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>
<span class="token operator">~</span><span class="token number">1.2</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.2</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">1.</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token number">.0</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.2</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">1.3</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span> <span class="token punctuation">(</span>Same <span class="token keyword">as</span> <span class="token number">1.2</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span>
<span class="token operator">~</span><span class="token number">1</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.0</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token number">.0</span><span class="token number">.0</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.0</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">2.0</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span> <span class="token punctuation">(</span>Same <span class="token keyword">as</span> <span class="token number">1</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span>
<span class="token operator">~</span><span class="token number">0.2</span><span class="token number">.3</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.2</span><span class="token number">.3</span> <span class="token operator">&lt;</span><span class="token number">0.</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token number">.0</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.2</span><span class="token number">.3</span> <span class="token operator">&lt;</span><span class="token number">0.3</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span>
<span class="token operator">~</span><span class="token number">0.2</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.2</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">0.</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token number">.0</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.2</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">0.3</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span> <span class="token punctuation">(</span>Same <span class="token keyword">as</span> <span class="token number">0.2</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span>
<span class="token operator">~</span><span class="token number">0</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.0</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token number">.0</span><span class="token number">.0</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">0.0</span><span class="token number">.0</span> <span class="token operator">&lt;</span><span class="token number">1.0</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span> <span class="token punctuation">(</span>Same <span class="token keyword">as</span> <span class="token number">0</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span>

<span class="token operator">~</span><span class="token number">1.2</span><span class="token number">.3</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">2</span> <span class="token operator">:</span><span class="token operator">=</span> <span class="token operator">&gt;=</span><span class="token number">1.2</span><span class="token number">.3</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">2</span> <span class="token operator">&lt;</span><span class="token number">1.3</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">0</span> 请注意，如果 <span class="token number">1.2</span><span class="token number">.3</span> 版本大于或等于 beta<span class="token punctuation">.</span><span class="token number">2</span> ，则允许预发布。因此， <span class="token number">1.2</span><span class="token number">.3</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">4</span> 将被允许，但 <span class="token number">1.2</span><span class="token number">.4</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">2</span> 不会，因为它是不同 <span class="token punctuation">[</span>major<span class="token punctuation">,</span> minor<span class="token punctuation">,</span> patch<span class="token punctuation">]</span> 元组的预发布。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>‍</p><p>详见官方说明：</p><ul><li><a href="https://docs.npmjs.com/cli/v10/configuring-npm/package-json#dependencies:~:text=%E7%9A%84%E2%80%9Cstart%E2%80%9D%E5%91%BD%E4%BB%A4%E3%80%82-,dependencies%C2%A0%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB,-Dependencies%20are%20specified" target="_blank" rel="noopener noreferrer">https://docs.npmjs.com/cli/v10/configuring-npm/package-json#dependencies<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/npm/node-semver#versions" target="_blank" rel="noopener noreferrer">GitHub - npm/node-semver: The semver parser for node (the one npm uses)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener noreferrer">语义化版本 2.0.0 | Semantic Versioning (semver.org)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="现在-corepack" tabindex="-1"><a class="header-anchor" href="#现在-corepack"><span>现在 corepack</span></a></h2><h3 id="概述-3" tabindex="-1"><a class="header-anchor" href="#概述-3"><span>概述</span></a></h3><p><a href="https://nodejs.cn/api/corepack.htm" target="_blank" rel="noopener noreferrer">Corepack<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 从 Node.js 16.9 开始可用, 全新的包管理器的管理器，无需安装 npm、yarn、pnpm，只需要一个 Corepack 即可搞定所有。</p><p><s>正如 IE 的唯一作用是安装 Chrome，npm 的作用也是用来安装 yarn/pnpm</s></p><p>Corepack 是 Node.js 推出的包管理器的管理器。类似于 nvm 可以一行命令安装、切换 Node.js 的版本，Corepack 可以一行命令安装、切换 npm / yarn / pnpm 的版本。</p><p><strong>除此之外，Corepack 还有一个特性，能够读取项目的</strong> **<code>packge.json</code>**​ <strong>中的</strong> **<code>pacakgeManager</code>**​ <strong>字段，从而自动切换到对应版本的包管理器</strong>。这在多人、多项目协作开发中非常有用，比如 <code>pnpm@7.0.0</code>​ 和 <code>pnpm@8</code>​ 不兼容彼此的 <code>pnpm-lock.yaml</code>​，如果 pnpm 版本不统一，很容易出问题。</p><h3 id="安装及使用-3" tabindex="-1"><a class="header-anchor" href="#安装及使用-3"><span>安装及使用</span></a></h3><p>开启即可，和 npm 一样 nodejs 默认自带。</p><p>corepack 目前内置支持的就上面这三个包管理器。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>// 开启，会创建所有支持的包管理器的软链<span class="token punctuation">(</span>这是一个代理命令<span class="token punctuation">)</span>。
// 默认是不会创建 <span class="token function">npm</span> 的，是因为随 <span class="token function">node</span> 会自带一个全局的 <span class="token function">npm</span>
corepack <span class="token builtin class-name">enable</span>
corepack <span class="token builtin class-name">enable</span> <span class="token function">npm</span> <span class="token comment"># npm 需要单独开启，不建议开启</span>


// 禁用，会移除所有由 corepack 管理的包管理器的代理命令软链
corepack disable
corepack disable <span class="token function">npm</span> <span class="token comment"># 如果开启了，关闭也无法还原初始状态，而是删除了corepack 里面的链接</span>

// 下载和缓存 all 支持的包管理器最新版<span class="token punctuation">(</span>全局环境<span class="token punctuation">)</span>
corepack prepare <span class="token parameter variable">--all</span>

<span class="token comment"># 这会将全局默认 pnpm 更新到最新版</span>
corepack prepare pnpm@latest <span class="token parameter variable">--activate</span> <span class="token comment"># 旧版 Node.js 不支持 pnpm@latest，需要具体到 pnpm@x.y.z</span>

<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
<span class="token string">&quot;packageManager&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;pnpm@9.0.0-beta.2+sha256.013b34133be0fd7f97d8739bd1a64a2b2c4b15af936ef77a14f5db26efb6bef4&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>建议不要开启 <code>corepack enable npm</code>​​。原因有下面<strong>问题 1</strong>，还有一个问题就是如果你使用 nvm 或者一些进入目录，可能你设置了一些默认执行 npm 命令的一些脚本，例如 nvm 自动切换等等，一旦你配置的包管理器是 <code>pnpm</code>​​ 或者 <code>yarn</code>​​，那么 npm 肯定会执行报错，可能还有其它各种各样的奇怪问题。</p><p><strong>项目中的使用</strong></p><p>如果当前 pwd 是一个项目的根目录，corepack 会根据 package.json 中的 <code>packageManager</code>​ 配置，当你使用相应包管理器时，它下载使用配置的版本，如果使用的包管理器不是配置的包管理器，会给出报错提醒，如下图。</p><p>​<img src="/assets/img/image-20240402162813-6otupm0.e26b518f.png" alt="image" loading="lazy">​</p><hr><p><strong>无网时的使用</strong></p><p>对于一些私有部署或者网络限制环境，可以将 cache 导出到 tgz 文件，在使用的环境中导入，如下。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>// 导出
$ corepack prepare <span class="token parameter variable">--all</span> <span class="token parameter variable">-o</span> corepack.tgz

// 导入
$ corepack hydrate corepack.tgz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完成后，使用 <code>cat</code>​ 可以确认，<code>pnpm &lt;args&gt;</code>​ 现在运行的是 <code>corepack pnpm &lt;args&gt;</code>​。​​</p><p>按照<a href="https://nodejs.cn/api/corepack.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的说法是不需要再自行安装的，可以参考项目的 <a href="https://github.com/nodejs/corepack" target="_blank" rel="noopener noreferrer">Readme<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><p>corepack 现在是随 node 每个发布的版本一起安装的，就如同 npm 一样，现在安装完 node 之后，你会发现有两个已经全局默认安装的包。</p><p>​<img src="/assets/img/image-20240402161944-84h4nqv.e222a6c6.png" alt="image" loading="lazy">​</p><p>‍</p><p>​<img src="/assets/img/image-20240402140635-kzg2857.886f2db6.png" alt="image" loading="lazy">​</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// 在对应目录下开启后可以直接使用</span>
<span class="token operator">&gt;</span> corepack enable
<span class="token operator">&gt;</span> pnpm <span class="token operator">-</span>v
<span class="token number">8.15</span><span class="token number">.6</span>
<span class="token operator">&gt;</span> yarn <span class="token operator">-</span>v
<span class="token number">1.22</span><span class="token number">.22</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token operator">&gt;</span> corepack use pnpm
Installing pnpm@<span class="token number">9.0</span><span class="token number">.0</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">2</span> <span class="token keyword">in</span> the project<span class="token operator">...</span>
Already up to date

<span class="token operator">&gt;</span> corepack pnpm <span class="token operator">-</span>v
<span class="token number">9.0</span><span class="token number">.0</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="问题-1" tabindex="-1"><a class="header-anchor" href="#问题-1"><span>问题 1</span></a></h3><p><strong>问题：</strong> 开启 <code>corepack enable npm</code>​ 后，使用 npm 时，出现 Segmentation fault</p><p><strong>原因简述：</strong> 因为 corepack 版本是随着 node 版本发布的。一旦在 <code>corepack@&lt;=0.18.0</code>​，而 <code>npm@&gt;9.7.0</code>​ 时，如果开启 npm 管理，就会报 <code>Segmentation fault</code>​，好像存在不兼容。<a href="https://github.com/nodejs/corepack/pull/276" target="_blank" rel="noopener noreferrer">fix: disable <code>v8-compile-cache</code> when using <code>npm@&amp;gt;=9.7.0</code> by merceyz · Pull Request #276 · nodejs/corepack · GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><strong>解决办法：</strong></p><p>执行 <code>npm install -g corepack</code> ​升级 corepack 即可，截止 2024 年 2 月，最新版是 <code>corepack@0.25.2</code>​，支持 <code>Node v18.17.1 || &gt;=20.10.0</code>​。</p><h1 id="前人栽树" tabindex="-1"><a class="header-anchor" href="#前人栽树"><span>前人栽树</span></a></h1><ul><li><a href="https://zhuanlan.zhihu.com/p/24357770" target="_blank" rel="noopener noreferrer">npm 是干什么的？（非教程） - 知乎 (zhihu.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!--[--><!----><!--]--><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a href="https://github.com/zha0cai/edit/main/src/websec/基础知识/nodejs 与 nvm、npm、pnmp、yarn、corepack 的关系.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link vp-meta-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">Create by zha0cai</div><div class="vp-copyright">Copyright © 2024 Mr.zha0cai </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.721b97e6.js" defer></script><script src="/assets/js/335.b2d95ac1.js" defer></script><script src="/assets/js/app.fac1b775.js" defer></script>
  </body>
</html>
